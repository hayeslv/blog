### 防止父元素高度坍塌的 4 种方案

问题重现：

- 父元素的高度，都是由内部未浮动子元素的高度撑起的。
- 如果**子元素浮动**起来，就**不占用普通文档流**的位置。**父元素高度**就会**失去支撑**，也称为**高度坍塌**。



**不好的解决方法**

- ~~给父元素设置固定高度~~

缺点：多数情况下，父元素高度由内容撑起，很难提前固定父元素的高度。



**方案1：**（经过测试，只能解决 float引起的坍塌问题，不能解决绝对定位的坍塌问题）

为父元素设置 **overflow: hidden** 属性。

原理：CSS 中 **overflow: hidden** 属性会强制要求父元素必须包裹住所有内部浮动的元素，以及所有元素的 margin 范围

缺点：如果刚好父元素有些超范围的子元素内容需要显示（比如，个别 position 定位的子菜单项），不想隐藏，就会发生冲突。



**方案2：**

在父元素内的结尾追加一个空子元素（块级元素），并设置空子元素清除浮动影响（clear: both）。

原理：利用 clear: both 属性和父元素必须包含非浮动的元素两个原理

缺点：无端多出一个无意义的但不见的空元素，**影响选择器和查找元素**。



**方案3：**

设置父元素也浮动。

原理：浮动属性也会强制父元素扩大到包含所有浮动的内部元素。

缺点：会**产生新的浮动影响**。比如，父元素浮动，导致父元素之后平级的页脚div上移，被父元素挡住了。



**方案4：（最好做法）**

为父元素末尾伪元素设置 clear: both

在元素开头的结尾各有一个伪元素：`::before` 和 `::after` 。

优点：既不会影响显示隐藏，又不会影响查找元素，又不会产生新的浮动问题。

```css
.parent::after{ content: ""; display: block; clear: both; height: 0; } // 有些浏览器display有默认高度
```